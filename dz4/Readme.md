5 ВАРИАНТ

Этот проект представляет собой ассемблер и интерпретатор для учебной виртуальной машины (УВМ).

assem.py - файл с ассемблером

inter.py - файл с интерпретатором

test_assembler.py - тест для ассемблера

test_full_system.py - тест системы

test_interpreter.py - тест для интерпретатора

popcnt_vector.py - тестовая программа

test_program.asm - файл с входными данными для проверки

test_program.txt - файл с входными данными

input_program.txt  - файл с входными данными для тестовой программы

result.json - файл вывод для тестовой программы

Основные комментари по поводу кода можно увидеть в самих файлах с кодом.

Запуск:

![{814CF3A0-E71E-4BCB-890B-CD545F8DF24E}](https://github.com/user-attachments/assets/b3508408-f14d-466a-be63-31012b303aa3)

Первая команда запускает ассемблер, который компилирует исходный текст программы в бинарный файл и записывает лог, а вторая команда запускает интерпретатор, который сохраняет результаты в result.json

Описание работ ассемблера и интерпретатора.

Функция для ассемблирования одной строки исходного кода УВМ.

Функция для ассемблирования одной строки исходного кода УВМ.

Параметры: line (str): Одна строка исходного кода.

Возвращает: tuple: Содержит бинарную инструкцию и словарь с полями инструкции. Если строка является комментарием или пустой, возвращает (None, None).

Исключения: ValueError: Если обнаружены некорректные значения полей или неизвестный opcode.

Основная функция ассемблера. Выполняет следующие шаги:
        1. Парсит аргументы командной строки.
        2. Читает исходный файл с инструкциями УВМ.
        3. Ассемблирует каждую инструкцию в бинарный формат.
        4. Записывает бинарные данные в выходной файл.
        5. Если указан, записывает лог с разобранными полями инструкций в JSON-файл.
        
При возникновении ошибки в процессе ассемблирования выводит сообщение об ошибке и завершает работу с кодом 1.

===================================================================================================================================

Основная функция интерпретатора УВМ. Выполняет следующие шаги:
  1. Парсит аргументы командной строки.
        
  2. Инициализирует память и регистры УВМ.
        
  3. Загружает бинарный файл с командами УВМ.
        
  4. Исполняет команды последовательно, изменяя состояние регистров и памяти.
        
  5. Сохраняет значения из указанного диапазона памяти в файл-результат в формате JSON.

Аргументы командной строки:
  binary_file (str): Путь к бинарному файлу с командами УВМ.
        
  result_file (str): Путь к файлу для сохранения результата выполнения.
        
  mem_range (str): Диапазон памяти для вывода в формате "start:end".

Тесты:

![{1D2FBEF4-36A2-4C00-9B9D-B16C719086B3}](https://github.com/user-attachments/assets/12d74972-8857-4379-8677-4f1385ec3aa8)

![{167D64F2-4FFB-4153-9D1A-85E879911A78}](https://github.com/user-attachments/assets/39fe6a62-a829-4a8c-87a9-0c8674d41759)

![{7FB1DB06-1852-4F11-99DD-C32B828EDD92}](https://github.com/user-attachments/assets/80c63617-e517-4eac-8ae7-096beb2533fd)

Тестовая программа (Выполнить поэлементно операцию popcnt() над вектором длины 8):

![{B5E09DFA-21BF-4118-AD13-31978ED30236}](https://github.com/user-attachments/assets/ea2ebbb7-995f-48a5-9ea0-35e850217283)

То есть, ожидается, что:

- Тестовая программа сначала размещает в памяти вектор длины 8 (первые 8 ячеек памяти).

- Тестовая программа вычисляет popcnt для каждой компоненты вектора и записывает результат в первые 8 ячеек памяти, для каждой компоненты.

